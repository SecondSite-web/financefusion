{"version":3,"sources":["open-ticket.js"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"open-ticket.min.js","sourcesContent":["$(function () {\n    // Validator download from https://jqueryvalidation.org/\n    $(document).ready(function () {\n        $(\"#open-ticket-form\").validate({\n            rules: {\n                dest_group: \"required\",\n                subject: \"required\",\n                message: \"required\",\n                priority: \"required\",\n                status: \"required\"\n            },\n            messages: {\n                dest_group: \"Please select the user group\",\n                subject: \"Please state the subject for your ticket\",\n                message: \"Please leave a detailed message\",\n                priority: \"Required\",\n                status: \"Required\"\n            },\n            errorElement: \"p\",\n            errorPlacement: function ( error, element ) {\n                error.addClass(\"invalid-feedback\");\n\n                if ( element.prop(\"type\") === \"checkbox\" ) {\n                    error.insertAfter(element.next(\"label\"));\n                } else {\n                    error.insertAfter(element);\n                }\n            },\n            highlight: function ( element, errorClass, validClass ) {\n                $(element).addClass(\"is-invalid\").removeClass(\"is-valid\");\n            },\n            unhighlight: function (element, errorClass, validClass) {\n                $(element).addClass(\"is-valid\").removeClass(\"is-invalid\");\n            }\n        });\n        $('#open-ticket-form').on('submit', function (e) {\n            if (!e.isDefaultPrevented()) {\n                var url = document.location.origin + \"/include/workers/open-ticket.php\";\n                $.ajax({\n                    type: \"POST\",\n                    url: url,\n                    data: $(this).serialize(),\n                    success: function (data) {\n                        var messageAlert = 'alert-' + data.type;\n                        var messageText = data.message;\n                        var alertBox = '<div class=\"alert ' + messageAlert + ' alert-dismissable\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>' + messageText + '</div>';\n                        if (messageAlert && messageText) {\n                            $('#open-ticket-form').find('.messages').html(alertBox);\n                            $('#open-ticket-form')[0].reset();\n                        }\n                    }\n                });\n                return false;\n            }\n        })\n    });\n});"]}
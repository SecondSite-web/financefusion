{"version":3,"sources":["reset.js"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"reset.min.js","sourcesContent":["$(function () {\n    // Validator download from https://jqueryvalidation.org/\n    $(document).ready(function () {\n        $(\"#reset-form\").validate({\n            rules: {\n                key: {\n                    required: true\n                },\n                password: {\n                    required: true,\n                    minlength: 8\n                },\n                confirm_password: {\n                    required: true,\n                    minlength: 8,\n                    equalTo: \"#password\"\n                },\n            },\n            messages: {\n                key: {\n                    required: \"Please enter the key mailed to you\"\n                },\n                password: {\n                    required: \"Please provide a password\",\n                    minlength: \"Your password must be at least 8 characters long\"\n                },\n                confirm_password: {\n                    required: \"Please provide a password\",\n                    minlength: \"Your password must be at least 8 characters long\",\n                    equalTo: \"Your Passwords do not match\"\n                },\n            },\n            errorElement: \"p\",\n            errorPlacement: function ( error, element ) {\n                // Add the `invalid-feedback` class to the error element\n                error.addClass(\"invalid-feedback\");\n\n                if ( element.prop(\"type\") === \"checkbox\" ) {\n                    error.insertAfter(element.next(\"label\"));\n                } else {\n                    error.insertAfter(element);\n                }\n            },\n            highlight: function ( element, errorClass, validClass ) {\n                $(element).addClass(\"is-invalid\").removeClass(\"is-valid\");\n            },\n            unhighlight: function (element, errorClass, validClass) {\n                $(element).addClass(\"is-valid\").removeClass(\"is-invalid\");\n            }\n        });\n    });\n\n    // when the form is submitted\n    $('#reset-form').on('submit', function (e) {\n\n        // if the validator does not prevent form submit\n        if (!e.isDefaultPrevented()) {\n            var url = document.location.origin + \"/include/workers/reset.php\";\n\n            // POST values in the background the the script URL\n            $.ajax({\n                type: \"POST\",\n                url: url,\n                data: $(this).serialize(),\n                success: function (data) {\n                    // we recieve the type of the message: success x danger and apply it to the\n                    var messageAlert = 'alert-' + data.type;\n                    var messageText = data.message;\n\n                    // let's compose Bootstrap alert box HTML\n                    var alertBox = '<div class=\"alert ' + messageAlert + ' alert-dismissable\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">&times;</button>' + messageText + '</div>';\n\n                    // If we have messageAlert and messageText\n                    if (messageAlert && messageText) {\n                        // inject the alert to .messages div in our form\n                        $('#reset-form').find('.messages').html(alertBox);\n                        // empty the form\n                        $('#reset-form')[0].reset();\n                    }\n                }\n            });\n            return false;\n        }\n    })\n});\n\n"]}